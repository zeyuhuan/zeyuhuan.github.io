!function(){var e=!0,n=!1,t=mapboxgl.Map.prototype.setStyle;mapboxgl.Map.prototype.setStyle=function(){t.apply(this,arguments),e&&!n&&(this.styleUndecorated&&(this.styleUndecorated=void 0),this.once("styledata",function(){this.languageOptions&&this.setLanguage(this.languageOptions.language,this.languageOptions.noAlt)}.bind(this)))},mapboxgl.Map.prototype.setLanguageEnabled=function(t){e=t},mapboxgl.Map.prototype.setLanguage=function(t,e){if(this.languageOptions={language:t,noAlt:e},!this.styleUndecorated)try{this.styleUndecorated=this.getStyle()}catch(t){}if(this.styleUndecorated){var a=0<=["ar","hy","be","bg","zh","ka","el","he","ja","ja_kana","kn","kk","ko","mk","ru","sr","th","uk"].indexOf(t);style=JSON.parse(JSON.stringify(this.styleUndecorated));var l={"layer-filter":["in","layout.text-field","{name}","{name_de}","{name_en}","{name:latin}","{name:latin} {name:nonlatin}","{name:latin}\n{name:nonlatin}"],decorators:[{"layout.text-field":a?"{name:nonlatin}"+(e?"":"\n{name:latin}"):"{name:latin}"+(e?"":"\n{name:nonlatin}"),"filter-all-part":["!has","name:"+t]},{"layer-name-postfix":t,"layout.text-field":"{name:"+t+"}"+(e?"":"\n{name:"+(a?"latin":"nonlatin")+"}"),"filter-all-part":["has","name:"+t]}]};"native"==t&&(l.decorators=[{"layout.text-field":"{name}","filter-all-part":["all"]}]),function(t,e){for(var a=t.layers,l=e["layer-filter"],n=e.decorators,i=l[1],o=l.slice(2),r=a.length-1;0<=r;r--){var s=a[r];if("in"===l[0]&&"layout.text-field"===i&&s.layout&&s.layout["text-field"]&&0<=o.indexOf(s.layout["text-field"]))for(var y=n.length-1;0<=y;y--){var f=n[y],p=f["layer-name-postfix"]||"";if(p=p.replace(/(^-+|-+$)/g,""),0<y){var g=JSON.parse(JSON.stringify(s));a.splice(r+1,0,g)}else g=s;g.id+=p?"-"+p:"",g.layout["text-field"]=f["layout.text-field"],"line"===g.layout["symbol-placement"]&&(g.layout["text-field"]=g.layout["text-field"].replace("\n"," "));var u=f["filter-all-part"].concat();g.filter?"all"==g.filter[0]?g.filter.push(u):g.filter=["all",g.filter,u]:g.filter=u}}}(style,l),n=!0,this.setStyle(style),n=!1}},mapboxgl.Map.prototype.autodetectLanguage=function(t){this.setLanguage(navigator.language.split("-")[0]||t||"native")}}();